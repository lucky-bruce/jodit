/*!
 * Jodit Editor (https://xdsoft.net/jodit/)
 * Released under MIT see LICENSE.txt in the project root for license information.
 * Copyright (c) 2013-2020 Valeriy Chupurnov. All rights reserved. https://xdsoft.net
 */

@import '../../styles/variables';

@width-search: 320px;

:root {
	--height-search: 30px;
	--width-search: @width-search;
	--width-search-input-box: 60%;
	--width-search-count-box: 15%;
	--transform-button-active: 0.95;
	--timeout-button-active: 0.1s;
}

.jodit-search {
	visibility: hidden;

	&.jodit-search_active {
		visibility: visible;
	}

	position: absolute;
	top: 0;
	right: 0;
	width: 0;
	height: 0;

	.jodit-search__box {
		width: var(--width-search);
		position: absolute;
		right: 0;
		background-color: var(--color-toolbar);
		border: solid var(--color-border);
		border-width: 0 0 1px 1px;
		padding: calc(var(--padding-default) / 2);

		input {
			margin: 0;
			width: 100%;
			height: 100%;
			border: 0;
			background-color: transparent;
			outline: none;
			padding: 0 var(--padding-default);

			&.jodit-search__replace {
				display: none;
			}
		}

		.jodit-search__buttons,
		.jodit-search__counts,
		.jodit-search__inputs {
			height: var(--height-search);
			display: inline-block;
			vertical-align: top;
		}

		.jodit-search__inputs {
			width: var(--width-search-input-box);
			padding-right: calc(var(--padding-default) / 2);
		}

		.jodit-search__counts {
			width: var(--width-search-count-box);
			line-height: 100%;
			text-align: center;
			color: var(--color-border);
			border-left: 1px solid var(--color-border);

			&::before {
				content: '';
				display: inline-block;
				vertical-align: middle;
				height: 100%;
			}

			span {
				display: inline-block;
				vertical-align: middle;
			}
		}

		.jodit-search__buttons {
			padding-left: 0;
			width: calc(
				100% - var(--width-search-input-box) -
					var(--width-search-count-box)
			);

			button {
				outline: 0;
				width: 32%;
				padding: 1px calc(var(--padding-default) / 2);
				margin-right: 1%;
				transition: transform var(--timeout-button-active) linear;

				&.jodit-search__buttons-replace {
					width: 100%;
					border: 1px solid var(--color-border);
					margin-top: 2px;
					display: none;
				}

				height: 100%;
				border: 1px solid transparent;
				background-color: transparent;

				&:hover {
					background-color: var(--color-background-button-hover);
				}

				&:focus {
					border: 1px solid
						var(--color-background-selection_opacity50);
				}

				&:active {
					border: 1px solid var(--color-background-selection);
					transform: scale(
						var(--transform-button-active),
						var(--transform-button-active)
					);
				}
			}
		}
	}

	&.jodit-search_replace {
		.jodit-search__counts,
		.jodit-search__inputs {
			height: calc(var(--height-search) * 2);

			input {
				height: 50%;
				transition: background-color var(--timeout-button-active) linear;

				&:focus {
					box-shadow: inset 0 0 3px 0 var(--color-border_opacity60);
				}
			}
		}

		.jodit-search__buttons button.jodit-search__buttons-replace,
		.jodit-search__inputs input.jodit-search__replace {
			display: block;
		}
	}

	@media (max-width: @width-search) {
		width: 100%;

		.jodit-search__box {
			width: 100%;
		}
	}
}
